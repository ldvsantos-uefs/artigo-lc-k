digraph G {
  graph [
    charset="UTF-8",
    rankdir=LR,
    splines=ortho,
    nodesep=0.45,
    ranksep=0.65,
    pad=0.15,
    fontname="Arial",
    fontsize=12,
  ];

  node [
    fontname="Arial",
    fontsize=12,
    color="#111827",
    fontcolor="#111827",
    penwidth=1,
    style="rounded,filled",
    fillcolor="#ffffff",
    margin="0.12,0.08",
  ];

  edge [
    fontname="Arial",
    fontsize=11,
    color="#374151",
    fontcolor="#374151",
    penwidth=1,
    arrowsize=0.8,
  ];

  subgraph cluster_l1 {
    label="Entradas do projeto
/ qualificação";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

          q0 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<<B>Ensaios rápidos</B><BR/>(L/C, IC, FTIR;<BR/>DRX/TGA)<BR/>→ estimar VUF<BR/>(P10)>];
          i1 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<Vida útil<BR/>alvo<BR/>(VUF / P10)>];
          i2 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<Agressividade<BR/>ambiental<BR/>(UV: 0 / 0,5<BR/>/ 1,0)>];
          i3 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<Ductilidade<BR/>mínima<BR/>(ε_max)>];
  }

  subgraph cluster_l2 {
    label="Regras de decisão";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

    d1 [shape=diamond, style="filled", fillcolor="#ffffff", label=<<B>Uso temporário</B><BR/>(VUF ≤ 60 dias)<BR/>E UV ≤ 0,5?>];
    d2 [shape=diamond, style="filled", fillcolor="#ffffff", label=<<B>UV ≥ 1,0 (exposição alta)</B><BR/>OU exige ductilidade<BR/>(ε_max ≥ 2,0%)?>];
  }

  subgraph cluster_l3 {
    label="Tratamento recomendado";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

    t0 [shape=box, label=<<B>T0 — Natural</B><BR/>Aplicações temporárias<BR/>(30–60 dias)>];
    t2 [shape=box, penwidth=3, label=<<B>T2 — NaOH 6%</B><BR/>Ponto de equilíbrio<BR/>(VUF ~95 dias; ε_max ~2,8%)>];
    t3 [shape=box, label=<<B>T3 — NaOH 9%</B><BR/>Maior durabilidade<BR/>(rigidez; ε_max &lt; 2,0%)>];
  }

  subgraph cluster_l4 {
    label="Recomendação por objetivo";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

    r0 [shape=box, label=<Controle de erosão temporário<BR/>/ revegetação (30–60 dias)>];
    r2 [shape=box, label=<Bioengenharia de taludes tropicais<BR/>(necessita deformabilidade)>];
    r3 [shape=box, label=<Reforço/contensão rígida<BR/>(deformação não crítica)>];
  }

  n1 [shape=note, style="filled", fillcolor="#ffffff", label=<<B>Atenção: UV = 1,0</B><BR/>→ erro pode atingir ~28%<BR/>→ considerar correção não-linear<BR/>/ validação local>];
  s1 [shape=note, style="filled", fillcolor="#ffffff", label=<<B>Critérios sugeridos (especificação):</B><BR/>R0 ≥ 20 kN/m; VUF ≥ 90 dias (P10);<BR/>IC ≥ 60%; fim de vida: ε_max ≤ 2,0%>];

  // Primary flow
  q0 -> i1;
  i1 -> d1;
  i2 -> d1 [style=dashed, arrowhead=none];
    d1 -> t0 [xlabel="Sim"];
    d1 -> d2 [xlabel="Não"];
  i2 -> d2 [style=dashed, arrowhead=none];
  i3 -> d2 [style=dashed, arrowhead=none];
    d2 -> t2 [xlabel="Sim"];
    d2 -> t3 [xlabel="Não"];

  // Objective-oriented recommendations
  t0 -> r0;
  t2 -> r2;
  t3 -> r3;

  // Notes / boundaries
  i2 -> n1 [style=dashed, arrowhead=none];
  t2 -> s1 [style=dashed, arrowhead=none];
}
