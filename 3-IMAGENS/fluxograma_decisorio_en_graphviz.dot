digraph G {
  graph [
    charset="UTF-8",
    rankdir=LR,
    splines=ortho,
    nodesep=0.45,
    ranksep=0.65,
    pad=0.15,
    fontname="Arial",
    fontsize=12,
  ];

  node [
    fontname="Arial",
    fontsize=12,
    color="#111827",
    fontcolor="#111827",
    penwidth=1,
    style="rounded,filled",
    fillcolor="#ffffff",
    margin="0.12,0.08",
  ];

  edge [
    fontname="Arial",
    fontsize=11,
    color="#374151",
    fontcolor="#374151",
    penwidth=1,
    arrowsize=0.8,
  ];

  subgraph cluster_l1 {
    label="Project inputs
/ qualification";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

          q0 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<<B>Rapid assays</B><BR/>(L/C, CI, FTIR;<BR/>XRD/TGA)<BR/>→ estimate FUL<BR/>(P10)>];
          i1 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<Target service<BR/>life<BR/>(FUL / P10)>];
          i2 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<Environmental<BR/>aggressiveness<BR/>(UV: 0 / 0.5<BR/>/ 1.0)>];
          i3 [shape=parallelogram, fontsize=10, margin="0.08,0.05", label=<Minimum<BR/>ductility<BR/>(ε_max)>];
  }

  subgraph cluster_l2 {
    label="Decision rules";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

    d1 [shape=diamond, style="filled", fillcolor="#ffffff", label=<<B>Temporary use</B><BR/>(VUF ≤ 60 days)<BR/>AND UV ≤ 0.5?>];
    d2 [shape=diamond, style="filled", fillcolor="#ffffff", label=<<B>UV ≥ 1.0 (high exposure)</B><BR/>OR ductility required<BR/>(ε_max ≥ 2.0%)?>];
  }

  subgraph cluster_l3 {
    label="Recommended treatment";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

    t0 [shape=box, label=<<B>T0 — Untreated</B><BR/>Temporary applications<BR/>(30–60 days)>];
    t2 [shape=box, penwidth=3, label=<<B>T2 — 6% NaOH</B><BR/>Balanced option<BR/>(VUF ~95 days; ε_max ~2.8%)>];
    t3 [shape=box, label=<<B>T3 — 9% NaOH</B><BR/>Highest durability<BR/>(stiffer; ε_max &lt; 2.0%)>];
  }

  subgraph cluster_l4 {
    label="Recommendation by project objective";
    labelloc=t;
    labeljust=l;
    color="#111827";
    penwidth=1;

    r0 [shape=box, label=<Temporary erosion control<BR/>/ revegetation (30–60 days)>];
    r2 [shape=box, label=<Tropical slope bioengineering<BR/>(requires deformability)>];
    r3 [shape=box, label=<Rigid reinforcement/containment<BR/>(deformation not critical)>];
  }

  n1 [shape=note, style="filled", fillcolor="#ffffff", label=<<B>Note: UV = 1.0</B><BR/>→ error may reach ~28%<BR/>→ consider non-linear correction<BR/>/ local validation>];
  s1 [shape=note, style="filled", fillcolor="#ffffff", label=<<B>Suggested specification targets:</B><BR/>R0 ≥ 20 kN/m; FUL ≥ 90 days (P10);<BR/>CI ≥ 60%; end-of-life: ε_max ≤ 2.0%>];

  // Primary flow
  q0 -> i1;
  i1 -> d1;
  i2 -> d1 [style=dashed, arrowhead=none];
    d1 -> t0 [xlabel="Yes"];
    d1 -> d2 [xlabel="No"];
  i2 -> d2 [style=dashed, arrowhead=none];
  i3 -> d2 [style=dashed, arrowhead=none];
    d2 -> t2 [xlabel="Yes"];
    d2 -> t3 [xlabel="No"];

  // Objective-oriented recommendations
  t0 -> r0;
  t2 -> r2;
  t3 -> r3;

  // Notes / boundaries
  i2 -> n1 [style=dashed, arrowhead=none];
  t2 -> s1 [style=dashed, arrowhead=none];
}
